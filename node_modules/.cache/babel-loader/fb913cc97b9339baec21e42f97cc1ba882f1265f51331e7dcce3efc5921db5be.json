{"ast":null,"code":"/*!\n * (C) Ionic http://ionicframework.com - MIT License\n */\nimport { writeTask } from '@stencil/core/internal/client';\nimport { h as hapticSelectionEnd, a as hapticSelectionStart, b as hapticSelectionChanged } from './haptic.js';\nimport { createGesture } from './index3.js';\nvar createButtonActiveGesture = function createButtonActiveGesture(el, isButton) {\n  var currentTouchedButton;\n  var initialTouchedButton;\n  var activateButtonAtPoint = function activateButtonAtPoint(x, y, hapticFeedbackFn) {\n    if (typeof document === 'undefined') {\n      return;\n    }\n    var target = document.elementFromPoint(x, y);\n    if (!target || !isButton(target)) {\n      clearActiveButton();\n      return;\n    }\n    if (target !== currentTouchedButton) {\n      clearActiveButton();\n      setActiveButton(target, hapticFeedbackFn);\n    }\n  };\n  var setActiveButton = function setActiveButton(button, hapticFeedbackFn) {\n    currentTouchedButton = button;\n    if (!initialTouchedButton) {\n      initialTouchedButton = currentTouchedButton;\n    }\n    var buttonToModify = currentTouchedButton;\n    writeTask(function () {\n      return buttonToModify.classList.add('ion-activated');\n    });\n    hapticFeedbackFn();\n  };\n  var clearActiveButton = function clearActiveButton() {\n    var dispatchClick = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n    if (!currentTouchedButton) {\n      return;\n    }\n    var buttonToModify = currentTouchedButton;\n    writeTask(function () {\n      return buttonToModify.classList.remove('ion-activated');\n    });\n    /**\n     * Clicking on one button, but releasing on another button\n     * does not dispatch a click event in browsers, so we\n     * need to do it manually here. Some browsers will\n     * dispatch a click if clicking on one button, dragging over\n     * another button, and releasing on the original button. In that\n     * case, we need to make sure we do not cause a double click there.\n     */\n    if (dispatchClick && initialTouchedButton !== currentTouchedButton) {\n      currentTouchedButton.click();\n    }\n    currentTouchedButton = undefined;\n  };\n  return createGesture({\n    el: el,\n    gestureName: 'buttonActiveDrag',\n    threshold: 0,\n    onStart: function onStart(ev) {\n      return activateButtonAtPoint(ev.currentX, ev.currentY, hapticSelectionStart);\n    },\n    onMove: function onMove(ev) {\n      return activateButtonAtPoint(ev.currentX, ev.currentY, hapticSelectionChanged);\n    },\n    onEnd: function onEnd() {\n      clearActiveButton(true);\n      hapticSelectionEnd();\n      initialTouchedButton = undefined;\n    }\n  });\n};\nexport { createButtonActiveGesture as c };","map":{"version":3,"names":["writeTask","h","hapticSelectionEnd","a","hapticSelectionStart","b","hapticSelectionChanged","createGesture","createButtonActiveGesture","el","isButton","currentTouchedButton","initialTouchedButton","activateButtonAtPoint","x","y","hapticFeedbackFn","document","target","elementFromPoint","clearActiveButton","setActiveButton","button","buttonToModify","classList","add","dispatchClick","arguments","length","undefined","remove","click","gestureName","threshold","onStart","ev","currentX","currentY","onMove","onEnd","c"],"sources":["C:/Users/renan/ionic-app/node_modules/@ionic/core/components/button-active.js"],"sourcesContent":["/*!\n * (C) Ionic http://ionicframework.com - MIT License\n */\nimport { writeTask } from '@stencil/core/internal/client';\nimport { h as hapticSelectionEnd, a as hapticSelectionStart, b as hapticSelectionChanged } from './haptic.js';\nimport { createGesture } from './index3.js';\n\nconst createButtonActiveGesture = (el, isButton) => {\n  let currentTouchedButton;\n  let initialTouchedButton;\n  const activateButtonAtPoint = (x, y, hapticFeedbackFn) => {\n    if (typeof document === 'undefined') {\n      return;\n    }\n    const target = document.elementFromPoint(x, y);\n    if (!target || !isButton(target)) {\n      clearActiveButton();\n      return;\n    }\n    if (target !== currentTouchedButton) {\n      clearActiveButton();\n      setActiveButton(target, hapticFeedbackFn);\n    }\n  };\n  const setActiveButton = (button, hapticFeedbackFn) => {\n    currentTouchedButton = button;\n    if (!initialTouchedButton) {\n      initialTouchedButton = currentTouchedButton;\n    }\n    const buttonToModify = currentTouchedButton;\n    writeTask(() => buttonToModify.classList.add('ion-activated'));\n    hapticFeedbackFn();\n  };\n  const clearActiveButton = (dispatchClick = false) => {\n    if (!currentTouchedButton) {\n      return;\n    }\n    const buttonToModify = currentTouchedButton;\n    writeTask(() => buttonToModify.classList.remove('ion-activated'));\n    /**\n     * Clicking on one button, but releasing on another button\n     * does not dispatch a click event in browsers, so we\n     * need to do it manually here. Some browsers will\n     * dispatch a click if clicking on one button, dragging over\n     * another button, and releasing on the original button. In that\n     * case, we need to make sure we do not cause a double click there.\n     */\n    if (dispatchClick && initialTouchedButton !== currentTouchedButton) {\n      currentTouchedButton.click();\n    }\n    currentTouchedButton = undefined;\n  };\n  return createGesture({\n    el,\n    gestureName: 'buttonActiveDrag',\n    threshold: 0,\n    onStart: (ev) => activateButtonAtPoint(ev.currentX, ev.currentY, hapticSelectionStart),\n    onMove: (ev) => activateButtonAtPoint(ev.currentX, ev.currentY, hapticSelectionChanged),\n    onEnd: () => {\n      clearActiveButton(true);\n      hapticSelectionEnd();\n      initialTouchedButton = undefined;\n    },\n  });\n};\n\nexport { createButtonActiveGesture as c };\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,SAAS,QAAQ,+BAA+B;AACzD,SAASC,CAAC,IAAIC,kBAAkB,EAAEC,CAAC,IAAIC,oBAAoB,EAAEC,CAAC,IAAIC,sBAAsB,QAAQ,aAAa;AAC7G,SAASC,aAAa,QAAQ,aAAa;AAE3C,IAAMC,yBAAyB,GAAG,SAA5BA,yBAAyBA,CAAIC,EAAE,EAAEC,QAAQ,EAAK;EAClD,IAAIC,oBAAoB;EACxB,IAAIC,oBAAoB;EACxB,IAAMC,qBAAqB,GAAG,SAAxBA,qBAAqBA,CAAIC,CAAC,EAAEC,CAAC,EAAEC,gBAAgB,EAAK;IACxD,IAAI,OAAOC,QAAQ,KAAK,WAAW,EAAE;MACnC;IACF;IACA,IAAMC,MAAM,GAAGD,QAAQ,CAACE,gBAAgB,CAACL,CAAC,EAAEC,CAAC,CAAC;IAC9C,IAAI,CAACG,MAAM,IAAI,CAACR,QAAQ,CAACQ,MAAM,CAAC,EAAE;MAChCE,iBAAiB,CAAC,CAAC;MACnB;IACF;IACA,IAAIF,MAAM,KAAKP,oBAAoB,EAAE;MACnCS,iBAAiB,CAAC,CAAC;MACnBC,eAAe,CAACH,MAAM,EAAEF,gBAAgB,CAAC;IAC3C;EACF,CAAC;EACD,IAAMK,eAAe,GAAG,SAAlBA,eAAeA,CAAIC,MAAM,EAAEN,gBAAgB,EAAK;IACpDL,oBAAoB,GAAGW,MAAM;IAC7B,IAAI,CAACV,oBAAoB,EAAE;MACzBA,oBAAoB,GAAGD,oBAAoB;IAC7C;IACA,IAAMY,cAAc,GAAGZ,oBAAoB;IAC3CX,SAAS,CAAC;MAAA,OAAMuB,cAAc,CAACC,SAAS,CAACC,GAAG,CAAC,eAAe,CAAC;IAAA,EAAC;IAC9DT,gBAAgB,CAAC,CAAC;EACpB,CAAC;EACD,IAAMI,iBAAiB,GAAG,SAApBA,iBAAiBA,CAAA,EAA8B;IAAA,IAA1BM,aAAa,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,KAAK;IAC9C,IAAI,CAAChB,oBAAoB,EAAE;MACzB;IACF;IACA,IAAMY,cAAc,GAAGZ,oBAAoB;IAC3CX,SAAS,CAAC;MAAA,OAAMuB,cAAc,CAACC,SAAS,CAACM,MAAM,CAAC,eAAe,CAAC;IAAA,EAAC;IACjE;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;IACI,IAAIJ,aAAa,IAAId,oBAAoB,KAAKD,oBAAoB,EAAE;MAClEA,oBAAoB,CAACoB,KAAK,CAAC,CAAC;IAC9B;IACApB,oBAAoB,GAAGkB,SAAS;EAClC,CAAC;EACD,OAAOtB,aAAa,CAAC;IACnBE,EAAE,EAAFA,EAAE;IACFuB,WAAW,EAAE,kBAAkB;IAC/BC,SAAS,EAAE,CAAC;IACZC,OAAO,EAAE,SAAAA,QAACC,EAAE;MAAA,OAAKtB,qBAAqB,CAACsB,EAAE,CAACC,QAAQ,EAAED,EAAE,CAACE,QAAQ,EAAEjC,oBAAoB,CAAC;IAAA;IACtFkC,MAAM,EAAE,SAAAA,OAACH,EAAE;MAAA,OAAKtB,qBAAqB,CAACsB,EAAE,CAACC,QAAQ,EAAED,EAAE,CAACE,QAAQ,EAAE/B,sBAAsB,CAAC;IAAA;IACvFiC,KAAK,EAAE,SAAAA,MAAA,EAAM;MACXnB,iBAAiB,CAAC,IAAI,CAAC;MACvBlB,kBAAkB,CAAC,CAAC;MACpBU,oBAAoB,GAAGiB,SAAS;IAClC;EACF,CAAC,CAAC;AACJ,CAAC;AAED,SAASrB,yBAAyB,IAAIgC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}